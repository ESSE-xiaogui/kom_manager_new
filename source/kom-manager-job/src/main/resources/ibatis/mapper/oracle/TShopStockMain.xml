<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.transsion.kom.job.mapper.TShopStockMainMapper">

	<insert id="saveStockMain" parameterType="TShopStockMain">
		insert into
		T_SHOPSTOCK_MAIN
		(
		COMPANY_ID,
		BILLNO,
		TRANTYPE,
		DEALER_ID,
		FDATE,
		EMP_ID,
		WERKS,
		CURRENCY_RATIO,
		FSTATUS,
		CREATED_BY
		)values(
		 #{COMPANY_ID,jdbcType=DECIMAL},
		 #{BILLNO,jdbcType=CHAR},
		 #{TRANTYPE,jdbcType=DECIMAL},
		 #{DEALER_ID,jdbcType=DECIMAL},
		 #{FDATE,jdbcType=DATE},
		 #{EMP_ID,jdbcType=DECIMAL},
		 #{WERKS,jdbcType=CHAR},
		 #{CURRENCY_RATIO,jdbcType=DECIMAL},
		 #{FSTATUS,jdbcType=DECIMAL},
		 #{CREATED_BY,jdbcType=DECIMAL}
		)

	</insert>

	<insert id="saveStockDetail" parameterType="TShopStockDetail">
		insert into
		T_SHOPSTOCK_DETAIL
		(
		COMPANY_ID,
		BILLNO,
		LINE_ID,
		BRAND_CODE,
		MODEL_MAT_CODE,
		FQTY,
		FNOTE
		)values(
		 #{COMPANY_ID,jdbcType=DECIMAL},
		 #{BILLNO,jdbcType=CHAR},
		 #{LINE_ID,jdbcType=DECIMAL},
		 #{BRAND_CODE,jdbcType=CHAR},
		 #{MODEL_MAT_CODE,jdbcType=CHAR},
		 #{FQTY,jdbcType=DECIMAL},
		 #{FNOTE,jdbcType=CHAR}
		)


	</insert>
	
	<select id="getSysDocSeqByStock" parameterType="java.lang.Integer" resultType="String">
		SELECT		
		MAX(BILLNO) as BILLNO
		FROM T_SHOPSTOCK_MAIN
		WHERE COMPANY_ID = #{companyId}
		AND BILLNO LIKE '%ST%'
	</select>
	
	
	<select id="queryAllStockMainData" parameterType="java.util.Map"  resultType="com.tecno.scm.af.vo.TShopStockMain" statementType="STATEMENT">
		SELECT ${columns} FROM ${tableName}
	</select>
	
	<select id="queryAllStockDetailData" parameterType="java.util.Map"  resultType="com.tecno.scm.af.vo.TShopStockDetail" statementType="STATEMENT">
		SELECT ${columns} FROM ${tableName}
	</select>
</mapper>
